:javascript
  i = 0;
  $("#addtimeseries").click(function(e) {
      e.preventDefault();
      randId = chance.hash();
      gridster.add_widget('<li class="droppable panel panel-default" id="timeseries' + randId + '"><div class="panel-heading timeseries dragDiv" id="searchname">Time Series<div class="btn-group pull-right"><a href="javascript:void(0)" id="closer" class="closer">x</a></div></div><div class="panel-body" style="width:100%;height:90%;margin: 0 auto"></div></li>', 6, 6);

  });

  $("#addtermstructure").click(function(e) {
      e.preventDefault();
      randId = chance.hash();
      gridster.add_widget('<li class="droppable panel panel-default" id="termstructure' + randId + '"><div class="panel-heading termstructure dragDiv" id="searchname">Term Structure<div class="btn-group pull-right"><a href="javascript:void(0)" id="closer" class="closer">x</a></div></div><div class="panel-body" style="width:100%;height:90%;margin: 0 auto"></div></li>', 6, 6);
  });
  $("#adddatatable").click(function(e) {
      e.preventDefault();
      randId = chance.hash();
      gridster.add_widget('<li class="droppable panel panel-default" id="datatable' + randId + '"><div class="panel-heading datatable dragDiv" id="searchname">Data Table<div class="btn-group pull-right"><a href="javascript:void(0)" id="closer" class="closer">x</a></div></div><div class="panel-body nopad4" style="width:100%;height:90%;margin: 0 auto"></div></li>', 9, 6);
  });
  $("#adddetails").click(function(e) {
      e.preventDefault();
      randId = chance.hash();
      gridster.add_widget('<li class="droppable panel panel-default" id="details' + randId + '"><div class="panel-heading details dragDiv" id="searchname">Details<div class="btn-group pull-right"><a href="javascript:void(0)" id="closer" class="closer">x</a></div></div><div class="panel-body" style="width:100%;height:90%;margin: 0 auto"></div></li>', 6, 6);
  });
  $("#adddelta").click(function(e) {
      e.preventDefault();
      randId = chance.hash();
      gridster.add_widget('<li class="droppable panel panel-default" id="delta' + randId + '"><div class="panel-heading delta dragDiv" id="searchname">Delta<div class="btn-group pull-right"><a href="javascript:void(0)" id="closer" class="closer">x</a></div></div><div class="panel-body" style="width:100%;height:90%;margin: 0 auto"></div></li>', 6, 6);
  });
  $("#addois").click(function(e) {
      e.preventDefault();
      randId = chance.hash();
      gridster.add_widget('<li class="droppable panel panel-default" id="ois' + randId + '"><div class="panel-heading ois dragDiv" id="searchname">OIS<div class="btn-group pull-right"><a href="javascript:void(0)" id="closer" class="closer">x</a></div></div><div class="panel-body" style="width:100%;height:90%;margin: 0 auto"></div></li>', 6, 6);
  });
  $("#addccy").click(function(e) {
      e.preventDefault();
      randId = chance.hash();
      gridster.add_widget('<li class="droppable panel panel-default" id="ccy' + randId + '"><div class="panel-heading ccy dragDiv" id="searchname">CCY<div class="btn-group pull-right"><a href="javascript:void(0)" id="closer" class="closer">x</a></div></div><div class="panel-body" style="width:100%;height:90%;margin: 0 auto"></div></li>', 6, 6);
  });

  // THE FOLLOWING CODE MAKES THE WIDGETS DRAGGABLE
  $(function(){$(".draggable").draggable({helper:"clone",drag:function(e,t){$(".droppable").droppable({accept:".draggable",hoverClass:"drop-hover",drop:function(e,t){droppableDiv=$(e.target).attr("id");alert(droppableDiv);searchId=t.draggable.attr("id");panelid=$(e.target).children(".panel-heading").attr("id",searchId);alert(panelid);if($(e.target).children(".panel-heading").hasClass("timeseries")){$.ajax({url:"/users/#{@user.id}/searches/"+searchId+"/show_timeseries"})}else if($(e.target).children(".panel-heading").hasClass("termstructure")){$.ajax({url:"/users/#{@user.id}/searches/"+searchId+"/show_termstructure"})}else if($(e.target).children(".panel-heading").hasClass("datatable")){$.ajax({url:"/users/#{@user.id}/searches/"+searchId+"/show_datatable"})}else if($(e.target).children(".panel-heading").hasClass("details")){$.ajax({url:"/users/#{@user.id}/searches/"+searchId+"/show_details"})}else if($(e.target).children(".panel-heading").hasClass("delta")){$.ajax({url:"/users/#{@user.id}/searches/"+searchId+"/show_delta"})}else if($(e.target).children(".panel-heading").hasClass("ois")){$.ajax({url:"/users/#{@user.id}/searches/"+searchId+"/show_ois"})}else if($(e.target).children(".panel-heading").hasClass("ccy")){$.ajax({url:"/users/#{@user.id}/searches/"+searchId+"/show_ccy"})}}})}})});$(document).on("click",".closer",function(e){e.preventDefault();gridster.remove_widget($(this).parent().parent().parent())})